name: Principal
namespace: authn
description: The abstract base entity for actors and authorities

attributes:
  key: default
  moniker: default
  displayName: default
  isActive:
    type: bool 
    description: Whether the principal is current and active
  inactiveFlags:
    type: enum:authn.InactiveFlags
    description: The reason(s) why the record is not active

relations:
  authnMethods:
    type: ent:authn.AuthnMethod[]
    relation: 1:N?
    description: The list of currently defined authentication methods for the principal
  keys:
    type: ent:authn.AsymmetricKey[]
    relation: 1:N?
    description: The list of asymmetric keys for this principal
  delegates:
    type: ent:authn.Delegate[]?
    relation: 1:N?
    description: The delegations of agency issued by this principal

  statements: default
  actions:
    type: ent:audit.Statement[]
    relation: 1:N
    description: The statements issued by this principal

notes: >-
  Principals are the fundamental entity type that can authenticate and act. Principals are divided
  into actors and authorities, which have different capabilities and constraints, but both actors
  and authorities needs to be able to authenticate, and so they are both principals. Authentication
  methods and signatures work the same for any principals, so the ontology in those places refers
  to the Principal entity rather than to Actor and Authority entities.
